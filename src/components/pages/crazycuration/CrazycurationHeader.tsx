import { useCallback } from 'react';

import { useSetRecoilState } from 'recoil';
import { useRouter } from 'next/router';
import { Flexbox, Typography, useTheme } from 'mrcamel-ui';

import { Header } from '@components/UI/molecules';

import { dialogState } from '@recoil/common';

function CrazycurationHeader() {
  const {
    theme: { palette }
  } = useTheme();
  const router = useRouter();

  const setDialogState = useSetRecoilState(dialogState);

  const handleClickBack = useCallback(() => {
    if (window.history.length > 2) {
      router.back();
    } else {
      router.push('/');
    }
  }, [router]);

  const handleClickShare = useCallback(() => {
    setDialogState({ type: 'SNSShare' });
  }, [setDialogState]);

  return (
    <Header
      customHeight={72}
      customStyle={{ background: '#191919' }}
      onClickLeft={handleClickBack}
      leftIconCustomStyle={{ padding: '24px 16px', '& > svg': { color: palette.common.white } }}
      rightIcon={
        <Typography
          variant="h4"
          weight="medium"
          customStyle={{ padding: '26px 16px', color: palette.common.white, cursor: 'pointer' }}
          onClick={handleClickShare}
        >
          공유하기
        </Typography>
      }
    >
      <Flexbox customStyle={{ justifyContent: 'flex-start', padding: '14px 0', flex: 1 }}>
        <Logo />
      </Flexbox>
    </Header>
  );
}

function Logo() {
  return (
    <svg
      xmlns="http://www.w3.org/2000/svg"
      width="132"
      height="44"
      viewBox="0 0 132 44"
      fill="none"
    >
      <path
        d="M11.1253 13.8495C9.94895 15.2829 8.29723 15.9999 6.1508 15.9999C2.41247 15.9999 0 13.6168 0 10.6138C0 7.53369 2.55951 5.16992 6.19193 5.16992C8.33897 5.16992 10.1552 6.00326 11.2493 7.51439L8.95829 8.69569C8.17386 7.92083 7.41 7.53369 6.21249 7.53369C4.10718 7.53369 2.76574 8.86996 2.76574 10.6524C2.76574 12.3963 4.06606 13.6349 6.08912 13.6349C7.30657 13.6349 8.27667 13.2472 8.95829 12.453L11.1253 13.8495Z"
        fill="#5C67FF"
      />
      <path
        d="M20.8778 14.491C19.9432 15.3489 18.9513 15.7963 17.6204 15.7963C14.9382 15.7963 12.5942 13.6326 12.5942 10.5916C12.5942 7.49684 14.8192 5.37109 17.5606 5.37109C18.8316 5.37109 19.9245 5.81847 20.8778 6.71321V5.63425H23.5201V15.5349H20.8778V14.491ZM15.2559 10.5729C15.2559 12.2688 16.4478 13.5191 18.0971 13.5191C19.7257 13.5191 20.9974 12.363 20.9974 10.5548C20.9974 8.82024 19.7656 7.64596 18.0971 7.64596C16.3488 7.6483 15.2559 8.95358 15.2559 10.5752V10.5729Z"
        fill="#5C67FF"
      />
      <path
        d="M35.5219 15.5355H32.8796V10.7436C32.8796 8.82317 32.4827 7.64889 31.0104 7.64889C29.702 7.64889 28.7456 8.65533 28.7456 10.6898V15.5372H26.1057V5.63484H28.7475V6.77228C29.6415 5.85882 30.7936 5.37402 32.0453 5.37402C33.3537 5.37402 34.469 5.95181 35.1244 7.14538C36.0976 5.98923 37.0715 5.37402 38.6603 5.37402C39.8322 5.37402 40.8852 5.82139 41.4815 6.53017C42.1768 7.34889 42.2559 8.43194 42.2559 9.73721V15.5355H39.6142V10.0729C39.6142 8.45065 38.998 7.64889 37.8073 7.64889C36.4765 7.64889 35.5232 8.61849 35.5232 10.6507L35.5219 15.5355Z"
        fill="#5C67FF"
      />
      <path
        d="M55.0935 12.4351C54.3801 14.1568 53.1053 15.1439 50.9452 15.6445C47.686 16.4007 44.9931 14.6439 44.2498 11.8199C43.5582 9.19534 44.9445 6.29999 48.2424 5.53507C51.4822 4.7836 54.253 6.4456 55.0536 9.48657C55.1109 9.70411 55.1203 9.81698 55.1782 10.0345L46.9234 11.9492C47.5501 13.3205 48.9171 13.8486 50.3832 13.5088C51.4822 13.2539 52.1389 12.7942 52.6804 11.9772L55.0935 12.4351ZM52.1122 8.72867C51.4692 7.68714 50.1888 7.2538 48.8193 7.57135C47.547 7.86375 46.7209 8.69241 46.5383 10.0217L52.1122 8.72867Z"
        fill="#5C67FF"
      />
      <path d="M57.1152 4.6193V15.5352H59.7576V4L57.1152 4.6193Z" fill="#5C67FF" />
      <path
        d="M8.25742 35.6016C6.10899 35.6016 4.50742 33.9805 4.50742 31.7734C4.50742 29.5664 6.10899 27.9453 8.25742 27.9453C9.50742 27.9453 10.5816 28.4727 11.2652 29.3516L14.3707 27.3008C13.023 25.4648 10.8355 24.293 8.25742 24.293C3.98008 24.293 0.757423 27.5352 0.757423 31.7734C0.757423 36.0312 3.98008 39.2734 8.25742 39.2734C10.8355 39.2734 13.023 38.1016 14.3707 36.2461L11.2652 34.1953C10.5816 35.0742 9.50742 35.6016 8.25742 35.6016ZM21.2605 34.1172L23.8777 39H27.9793L24.7176 33.375C26.1629 32.6719 27.0223 31.3438 27.0223 29.4688C27.0223 26.3242 24.952 24.5469 21.1629 24.5469H15.5965V39H19.3465V34.1367H20.7137C20.909 34.1367 21.0848 34.1367 21.2605 34.1172ZM19.3465 31.0898V27.8477H21.1629C22.5496 27.8477 23.2332 28.4531 23.2332 29.4688C23.2332 30.5234 22.5496 31.0898 21.1629 31.0898H19.3465ZM37.623 36.2656L38.4824 39H42.5254L37.5645 24.5469H33.0137L28.0527 39H32.0957L32.9551 36.2656H37.623ZM33.6973 33.6094L35.2793 28.5117L36.8809 33.6094H33.6973ZM54.5129 35.543H48.0285L54.1809 27.4375V24.5469H43.2824V28.0039H49.2199L43.0676 36.1289V39H54.5129V35.543ZM64.1176 33.6289L69.4496 24.5469H65.3285L62.2621 30.5234L59.1957 24.5469H55.0551L60.3676 33.6289V39H64.1176V33.6289ZM95.3582 24.5469H91.3348L88.9129 33.4727L86.4324 24.5469H83.7762L81.2957 33.4727L78.8934 24.5469H74.8504L79.2645 39H82.6238L85.1238 30.0742L87.5652 39H90.9441L95.3582 24.5469ZM106.154 35.8359H100.275V33.043H105.354V30.2891H100.275V27.7109H105.959V24.5469H96.5254V39H106.154V35.8359ZM117.575 35.8359H111.696V33.043H116.775V30.2891H111.696V27.7109H117.38V24.5469H107.946V39H117.575V35.8359ZM127.454 39H131.731L126.516 31.6367L131.321 24.5469H127.219L123.118 30.8164V24.5469H119.368V39H123.118V32.6914L127.454 39Z"
        fill="white"
      />
    </svg>
  );
}

export default CrazycurationHeader;
